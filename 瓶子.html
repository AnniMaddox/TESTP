<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>æ¼‚æµä¿¡ - é­”å¹»æ™‚åˆ»ç‰ˆ</title>
<style>
/* â”€â”€â”€ åŸºç¤è¨­å®š â”€â”€â”€ */
*,*::before,*::after { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
html,body { width:100%; height:100%; overflow:hidden; background:#2a1454; /* é è¨­æ·±ç´«è‰²åº• */
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',sans-serif; }

/* â”€â”€â”€ ğŸŒ… æ–°çš„å¤©ç©ºæ¼¸è®Šè‰² (SKY GRADIENT) â”€â”€â”€ */
.sky {
  position:fixed; inset:0;
  /* Sariel ç‰¹èª¿ï¼šé­”å¹»æ™‚åˆ»æ™šéœæ¼¸å±¤ */
  background: linear-gradient(180deg,
    #ff9a44 0%,  /* æš–æ©˜ */
    #fc6076 25%, /* ç«ç´… */
    #b721ff 60%, /* ç´«ç¾…è˜­ */
    #2a1454 100% /* æ·±é‚ƒç´«è—ï¼Œé€£æ¥æµ·é¢ */
  );
  z-index: 0;
}

/* â”€â”€â”€ æ˜Ÿæ˜Ÿå±¤ (STARS) - åœ¨æ™šéœä¸­ç¨å¾®èª¿æ·¡ä¸€é» â”€â”€â”€ */
.stars-layer { position:fixed; inset:0; pointer-events:none; z-index:1; opacity: 0.7; }
.star { position:absolute; border-radius:50%; background:#fff; }
@keyframes tw1 { 0%,100%{opacity:.1} 50%{opacity:.8} }
@keyframes tw2 { 0%,100%{opacity:.2} 50%{opacity:1} }
@keyframes tw3 { 0%,100%{opacity:.1} 50%{opacity:.5} }

/* â”€â”€â”€ æœˆäº® (MOON) - èª¿æ•´å…‰æšˆé¡è‰²ä»¥é…åˆæ™šéœ â”€â”€â”€ */
.moon {
  position:fixed; z-index:2;
  top:6vh; right:12%;
  width:68px; height:68px; border-radius:50%;
  background:radial-gradient(circle at 34% 32%, #fffce6 0%, #ffedbc 44%, #ffd6a5 100%);
  /* å…‰æšˆæ”¹æˆæš–é‡‘è‰² */
  box-shadow:0 0 30px rgba(255,220,150,.5),0 0 95px rgba(255,200,100,.3),0 0 240px rgba(255,180,50,.15);
  opacity: 0.9;
}
/* æœˆå…‰è·¯å¾‘ç¨å¾®æ¸›å¼±ï¼Œå› ç‚ºå¤©ç©ºè®Šäº®äº† */
.moon-path {
  position:fixed; z-index:2;
  top:calc(6vh + 72px); right:calc(12% + 10px);
  width:48px; height:280px;
  background:linear-gradient(180deg,rgba(255,235,180,.2) 0%,rgba(255,235,180,.05) 35%,transparent 100%);
  border-radius:50%; filter:blur(14px);
  animation:moonPath 7s ease-in-out infinite; opacity: 0.6;
}
@keyframes moonPath { 0%,100%{opacity:.4} 50%{opacity:.8} }

/* â”€â”€â”€ æ°´é¢å…‰æ¾¤ (WATERLINE GLOW) - æ”¹æˆæš–è‰²èª¿ â”€â”€â”€ */
.wl-glow {
  position:fixed; left:0; right:0; height:10px;
  /* åå°„å¤©ç©ºçš„ç²‰ç´«è‰²å…‰èŠ’ */
  background:linear-gradient(90deg,transparent 0%,rgba(255,100,150,.2) 15%,
    rgba(255,180,220,.4) 50%,rgba(255,100,150,.2) 85%,transparent 100%);
  filter:blur(5px); z-index:2;
  animation:wlPulse 5s ease-in-out infinite;
}
@keyframes wlPulse { 0%,100%{opacity:.5} 50%{opacity:1} }

/* â”€â”€â”€ æµ·æµª (WAVES) - é¡è‰²é…åˆæ™šéœè®Šæ·±ç´«/ç«ç´… â”€â”€â”€ */
.waves-wrap { position:fixed; bottom:0; left:0; right:0; height:165px; overflow:hidden; }
.waves-svg  { position:absolute; bottom:0; width:200%; height:100%; }
.w1 { animation:wL  9s linear infinite; }
.w2 { animation:wR 14s linear infinite; }
.w3 { animation:wL 20s linear infinite; }
@keyframes wL { 0%{transform:translateX(0)}    100%{transform:translateX(-50%)} }
@keyframes wR { 0%{transform:translateX(-50%)} 100%{transform:translateX(0)} }
.waves-back  { z-index:3; }
.waves-front { z-index:7; }

/* â”€â”€â”€ æ°´æ³¢ç´‹ (RIPPLE ANCHOR) - æ”¹æˆæš–è‰²èª¿ â”€â”€â”€ */
.ripple-anchor {
  position:fixed; z-index:4; pointer-events:none;
  left:50%; width:0; height:0;
}
.ripple-ring {
  position:absolute; top:0; left:0;
  transform:translate(-50%,-50%) scaleY(.32);
  transform-origin:50% 50%;
  border-radius:50%;
  /* æš–é‡‘è‰²æ³¢ç´‹ */
  border:2px solid rgba(255,200,100,.45);
  animation:rippleOut 3.8s ease-out infinite;
}
.ripple-ring:nth-child(2){ animation-delay:1.27s; border-color:rgba(255,180,80,.33); }
.ripple-ring:nth-child(3){ animation-delay:2.54s; border-color:rgba(255,160,60,.22); }
@keyframes rippleOut {
  0%   { width:30px; height:30px; opacity:.75; }
  100% { width:310px; height:310px; opacity:0; }
}

/* â”€â”€â”€ âœ¨ æ–°å¢å‹•ç•«ï¼šä¸Šå‡çš„å…‰å¡µ (RISING MOTE/BOKEH) â”€â”€â”€ */
.mote {
    position: fixed;
    bottom: 0;
    border-radius: 50%;
    pointer-events: none;
    z-index: 8; /* åœ¨ç“¶å­å’Œå‰æµªä¹‹é–“ */
    /* æœ¦æœ§çš„å…‰é»æ•ˆæœ */
    filter: blur(3px);
    animation: moteRise linear forwards;
}
@keyframes moteRise {
    0% { transform: translateY(0) scale(0.5); opacity: 0; }
    20% { opacity: 0.7; }
    100% { transform: translateY(-70vh) scale(2); opacity: 0; }
}

/* â”€â”€â”€ ç“¶å­ä¸»é«” (BOTTLE) â”€â”€â”€ */
.bottle-center { position:fixed; left:50%; z-index:5; /* bottom set by JS */ }
.bottle-lift {
  animation:bottleFloat 6s ease-in-out infinite;
  transform-origin:50% 100%;
}
@keyframes bottleFloat {
  0%   { transform:translateY(0px)    rotate(-2.0deg); }
  15%  { transform:translateY(-13px)  rotate(1.4deg);  }
  36%  { transform:translateY(-24px)  rotate(-0.8deg); }
  58%  { transform:translateY(-16px)  rotate(2.4deg);  }
  80%  { transform:translateY(-5px)   rotate(-1.2deg); }
  100% { transform:translateY(0px)    rotate(-2.0deg); }
}
.bottle-stage { cursor:pointer; display:block; position:relative; transform:translateX(-50%); }

/* ç“¶èº«å¾Œé¢çš„å…‰æšˆ - æ”¹æˆæ›´æš–çš„é‡‘è‰² */
.glow-halo {
  position:absolute; top:46%; left:50%; transform:translate(-50%,-50%);
  width:180px; height:220px; border-radius:50%;
  background:radial-gradient(ellipse,rgba(255,210,100,.4) 0%,rgba(255,160,50,.2) 42%,transparent 68%);
  pointer-events:none; animation:haloBreath 2.8s ease-in-out infinite;
}
@keyframes haloBreath {
  0%,100% { transform:translate(-50%,-50%) scale(1);    opacity:.70; }
  50%      { transform:translate(-50%,-50%) scale(1.32); opacity:1;   }
}

/* BOTTLE SVG */
.bottle-svg {
  display:block; width:min(180px, 44vw); height:auto;
  /* èª¿æ•´é™°å½±é¡è‰²ä»¥é…åˆæš–è‰²ç’°å¢ƒ */
  filter:drop-shadow(0 12px 30px rgba(0,0,0,.70)) drop-shadow(0 0 22px rgba(255,200,100,.3));
  transition:filter .32s ease;
}
.bottle-stage:hover  .bottle-svg {
  filter:drop-shadow(0 12px 30px rgba(0,0,0,.62)) drop-shadow(0 0 40px rgba(255,220,120,.8)) drop-shadow(0 0 90px rgba(255,180,50,.4));
}
.bottle-stage:active .bottle-svg {
  filter:drop-shadow(0 8px 20px rgba(0,0,0,.55)) drop-shadow(0 0 65px rgba(255,240,150,1)) drop-shadow(0 0 110px rgba(255,200,60,.6));
}
.bottle-stage.flashing .bottle-svg {
  filter:drop-shadow(0 0 70px rgba(255,250,180,1)) drop-shadow(0 0 120px rgba(255,220,80,.8)) !important;
  transition:none !important;
}

/* é»æ“Šæ™‚çš„ç«èŠ±ç²’å­ (SPARKLE PARTICLES) */
.sp { position:fixed; border-radius:50%; pointer-events:none; z-index:9; animation:spFly ease-out forwards; }
@keyframes spFly {
  0%   { transform:translate(0,0) scale(0);   opacity:1; }
  52%  { opacity:.90; }
  100% { transform:translate(var(--sx),var(--sy)) scale(1); opacity:0; }
}

/* ä»‹é¢æ–‡å­—é¡è‰²èª¿æ•´ (HEADER & HINT) */
.hdr {
  position:fixed; top:0; left:0; right:0; padding:50px 20px 16px; z-index:20;
  display:flex; align-items:center; justify-content:space-between;
  /* é ‚éƒ¨æ¼¸å±¤ç¨å¾®å¸¶é»ç´«è‰² */
  background:linear-gradient(180deg,rgba(40,20,60,.6) 0%,transparent 100%);
}
.hdr-back  { color:#ffd0a0; font-size:17px; cursor:pointer; } /* æ›´æš–çš„æ–‡å­—è‰² */
.hdr-title { font-size:16px; font-weight:300; color:rgba(255,245,230,.95); letter-spacing:4px; }
.hdr-count { font-size:12px; color:rgba(255,230,200,.6); }

.hint {
  position:fixed; left:0; right:0; text-align:center; font-size:12px;
  color:rgba(255,240,220,.55); /* æ›´æš–çš„æç¤ºè‰² */
  letter-spacing:2.5px; z-index:15; pointer-events:none; animation:hintBreath 3.8s ease-in-out infinite;
}
@keyframes hintBreath { 0%,100%{opacity:.55} 50%{opacity:1} }

.drawn-cnt {
  position:fixed; left:0; right:0; text-align:center; font-size:11px;
  color:rgba(255,230,200,.45); letter-spacing:1.5px; z-index:15; pointer-events:none;
}

/* é–±è®€ä»‹é¢ (READ OVERLAY) - ä¿æŒåŸæ¨£ï¼Œé¡è‰²å¾ˆæ­ */
#readScreen { position:fixed; inset:0; z-index:60; opacity:0; pointer-events:none; transition:opacity .44s ease; }
#readScreen.open { opacity:1; pointer-events:auto; }
.rs-bg { position:absolute; inset:0; background:rgba(10,5,20,.85); /* èƒŒæ™¯æ”¹æ·±ç´«è‰² */ backdrop-filter:blur(20px); -webkit-backdrop-filter:blur(20px); }
.rs-card {
  position:absolute; top:50%; left:50%; transform:translate(-50%,-48%) scale(.84); opacity:0;
  transition:transform .55s cubic-bezier(.34,1.56,.64,1), opacity .44s ease;
  width:min(440px,92vw); max-height:84vh; border-radius:3px; display:flex; flex-direction:column; overflow:hidden;
  box-shadow:0 28px 80px rgba(0,0,0,.70),0 4px 20px rgba(0,0,0,.40), inset 0 0 80px rgba(200,160,80,.04);
  background-color:#f7f2e6;
  background-image: radial-gradient(ellipse at 12% 8%, rgba(200,165,90,.09) 0%,transparent 55%), radial-gradient(ellipse at 88% 92%, rgba(180,140,70,.07) 0%,transparent 55%), repeating-linear-gradient(0deg,transparent,transparent 27px,rgba(160,120,60,.07) 27px,rgba(160,120,60,.07) 28px); background-position:0 0,0 0,0 34px;
}
#readScreen.open .rs-card { transform:translate(-50%,-50%) scale(1); opacity:1; }
.rs-top { padding:20px 22px 12px; border-bottom:1px solid rgba(140,100,50,.14); flex-shrink:0; display:flex; align-items:flex-start; justify-content:space-between; gap:10px; }
.rs-meta { flex:1; }
.rs-from { font-size:11px; color:rgba(100,70,28,.55); letter-spacing:2px; text-transform:uppercase; margin-bottom:5px; }
.rs-title { font-size:18px; font-weight:700; color:#3a2810; line-height:1.3; }
.rs-x { font-size:24px; color:rgba(110,78,32,.32); cursor:pointer; line-height:1; flex-shrink:0; padding:2px 0 2px 10px; transition:color .2s; }
.rs-x:hover { color:rgba(110,78,32,.72); }
.rs-scroll { flex:1; overflow-y:auto; padding:18px 22px 20px; -webkit-overflow-scrolling:touch; }
.rs-body { font-size:16px; line-height:1.94; color:#3a2c18; white-space:pre-wrap; }
.rs-seal { text-align:center; padding:18px 0 4px; font-size:20px; color:rgba(140,100,50,.34); letter-spacing:6px; }
.rs-bot { padding:12px 20px 15px; border-top:1px solid rgba(140,100,50,.10); display:flex; justify-content:space-between; align-items:center; flex-shrink:0; }
.rs-close { font-size:13px; color:rgba(120,80,28,.50); cursor:pointer; padding:5px 0; transition:color .2s; }
.rs-close:hover { color:rgba(100,60,18,.80); }
.rs-num { font-size:11px; color:rgba(130,88,32,.40); }
.rs-draw { font-size:13px; font-weight:600; color:rgba(110,72,24,.72); cursor:pointer; padding:5px 0; letter-spacing:.5px; transition:color .2s; }
.rs-draw:hover { color:rgba(88,52,12,.95); }
</style>
</head>
<body>

<div class="sky"></div>
<div class="stars-layer" id="starsLayer"></div>
<div class="moon"></div>
<div class="moon-path"></div>
<div class="wl-glow" id="wlGlow"></div>

<div class="waves-wrap waves-back">
  <svg class="waves-svg" viewBox="0 0 2880 165" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
    <path class="w3" d="M0,80 C180,56 540,104 720,80 C900,56 1260,104 1440,80 C1620,56 1980,104 2160,80 C2340,56 2700,104 2880,80 L2880,165 L0,165 Z"
          fill="rgba(55, 25, 105, 0.88)"/>
    <path class="w2" d="M0,98 C120,70 360,126 480,98 C600,70 840,126 960,98 C1080,70 1320,126 1440,98 C1560,70 1800,126 1920,98 C2040,70 2280,126 2400,98 C2520,70 2760,126 2880,98 L2880,165 L0,165 Z"
          fill="rgba(75, 35, 125, 0.93)"/>
  </svg>
</div>

<div class="ripple-anchor" id="rippleAnchor">
  <div class="ripple-ring"></div>
  <div class="ripple-ring"></div>
  <div class="ripple-ring"></div>
</div>

<div class="bottle-center" id="bottleCenter">
  <div class="bottle-lift">
    <div class="bottle-stage" id="bottleStage" onclick="drawRandom()">
      <div class="glow-halo"></div>
      <svg class="bottle-svg" width="180" height="330" viewBox="0 0 60 110" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <radialGradient id="ig" cx="50%" cy="60%" r="46%"><stop offset="0%" stop-color="#ffd060" stop-opacity=".96"/><stop offset="40%" stop-color="#ffaa28" stop-opacity=".54"/><stop offset="100%" stop-color="#ff7800" stop-opacity="0"/></radialGradient>
          <linearGradient id="gg" x1="0" y1="0" x2="1" y2="0"><stop offset="0%" stop-color="rgba(68,150,228,.66)"/><stop offset="18%" stop-color="rgba(185,228,255,.07)"/><stop offset="82%" stop-color="rgba(165,218,255,.05)"/><stop offset="100%" stop-color="rgba(58,140,218,.58)"/></linearGradient>
          <radialGradient id="bg" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="rgba(15,68,148,.32)"/><stop offset="100%" stop-color="transparent"/></radialGradient>
          <linearGradient id="ng" x1="0" y1="0" x2="1" y2="0"><stop offset="0%" stop-color="rgba(60,140,220,.50)"/><stop offset="50%" stop-color="rgba(180,224,255,.08)"/><stop offset="100%" stop-color="rgba(55,135,215,.44)"/></linearGradient>
        </defs>
        <rect x="21" y="1" width="18" height="10" rx="3.5" fill="#8c5e30"/>
        <line x1="22" y1="4" x2="38" y2="4" stroke="rgba(0,0,0,.08)" stroke-width=".8"/><line x1="22" y1="6.5" x2="38" y2="6.5" stroke="rgba(0,0,0,.06)" stroke-width=".8"/><line x1="22" y1="9" x2="38" y2="9" stroke="rgba(0,0,0,.05)" stroke-width=".8"/>
        <ellipse cx="30" cy="3.5" rx="6" ry="2" fill="rgba(255,255,255,.22)"/>
        <circle cx="30" cy="5.5" r="3.8" fill="rgba(90,22,8,.44)"/><circle cx="30" cy="5.5" r="2.2" fill="rgba(130,35,12,.30)"/>
        <rect x="20" y="10" width="20" height="3" rx="1.5" fill="#6a4020"/><rect x="20" y="10" width="20" height="1" rx="0" fill="rgba(255,255,255,.06)"/>
        <path d="M22 20 Q30 18 38 20" stroke="#7c5428" stroke-width="2.2" fill="none" stroke-linecap="round"/><path d="M23 23 Q30 21 37 23" stroke="#694520" stroke-width="1.3" fill="none" stroke-linecap="round"/>
        <path d="M23 13 L37 13 L39 26 Q30 24 21 26 Z" fill="url(#ng)" stroke="rgba(155,215,255,.35)" stroke-width=".8"/>
        <path d="M24 13 L36 13 L38 26 Q30 24.5 22 26 Z" fill="rgba(255,195,60,.10)"/>
        <path d="M21 26 C7 34 2 52 2 72 C2 100 13 108 30 108 C47 108 58 100 58 72 C58 52 53 34 39 26 Z" fill="url(#ig)"/>
        <path d="M21 26 C7 34 2 52 2 72 C2 100 13 108 30 108 C47 108 58 100 58 72 C58 52 53 34 39 26 Z" fill="url(#gg)" stroke="rgba(145,212,255,.38)" stroke-width="1.5"/>
        <path d="M7 42 C5 57 5 76 8 96" stroke="rgba(255,255,255,.24)" stroke-width="4" fill="none" stroke-linecap="round"/>
        <ellipse cx="13" cy="53" rx="4.5" ry="11" fill="rgba(255,255,255,.16)" transform="rotate(-22,13,53)"/>
        <path d="M53 44 C55 58 55 77 52 97" stroke="rgba(255,255,255,.06)" stroke-width="2.5" fill="none" stroke-linecap="round"/>
        <ellipse cx="47" cy="38" rx="3" ry="5.5" fill="rgba(255,255,255,.10)" transform="rotate(20,47,38)"/>
        <rect x="13" y="60" width="34" height="38" rx="2.5" fill="rgba(255,248,215,.20)"/>
        <line x1="17" y1="69" x2="43" y2="69" stroke="rgba(255,222,100,.35)" stroke-width="1.4"/><line x1="17" y1="76" x2="43" y2="76" stroke="rgba(255,222,100,.26)" stroke-width="1.3"/><line x1="17" y1="83" x2="41" y2="83" stroke="rgba(255,222,100,.19)" stroke-width="1.2"/><line x1="17" y1="90" x2="38" y2="90" stroke="rgba(255,222,100,.12)" stroke-width="1.1"/>
        <path d="M40 60 L43 63 L40 63 Z" fill="rgba(200,180,120,.18)"/>
        <path d="M4 78 Q30 74 56 78" stroke="rgba(80,160,220,.16)" stroke-width="1.5" fill="none"/>
        <ellipse cx="30" cy="105" rx="22" ry="5.5" fill="url(#bg)"/>
      </svg>
    </div>
  </div>
</div>

<div class="waves-wrap waves-front">
  <svg class="waves-svg" viewBox="0 0 2880 165" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
    <path class="w1" d="M0,114 C90,94 270,134 360,114 C450,94 630,134 720,114 C810,94 990,134 1080,114 C1170,94 1350,134 1440,114 C1530,94 1710,134 1800,114 C1890,94 2070,134 2160,114 C2250,94 2430,134 2520,114 C2610,94 2790,134 2880,114 L2880,165 L0,165 Z"
          fill="rgba(90, 40, 140, 1)"/>
  </svg>
</div>

<div class="hdr">
  <span class="hdr-back">â€¹ å…¨éƒ¨</span>
  <span class="hdr-title">æ¼‚æµä¿¡</span>
  <span class="hdr-count" id="cntLbl"></span>
</div>
<div class="hint" id="hintEl">è¼•è§¸ç“¶å­ï¼Œå–ä¿¡é–±è®€</div>
<div class="drawn-cnt" id="drawnEl"></div>

<div id="readScreen">
  <div class="rs-bg" onclick="closeRead()"></div>
  <div class="rs-card">
    <div class="rs-top">
      <div class="rs-meta"><div class="rs-from">From M âœ¦</div><div class="rs-title" id="rsTitle"></div></div>
      <div class="rs-x" onclick="closeRead()">Ã—</div>
    </div>
    <div class="rs-scroll"><div class="rs-body" id="rsBody"></div><div class="rs-seal">Â· Â· Â·</div></div>
    <div class="rs-bot"><div class="rs-close" onclick="closeRead()">â† æµ·é¢</div><span class="rs-num" id="rsNum"></span><div class="rs-draw" onclick="drawFromCard()">å†æŠ½ä¸€å° â€º</div></div>
  </div>
</div>

<script>
// â”€â”€ ä¿¡ä»¶è³‡æ–™ (å…§å®¹ä¸è®Š) â”€â”€
const LETTERS=[{id:0,title:'å¯«çµ¦æ„Ÿåˆ°è¿·èŒ«çš„ä½ ',content:`ä¸çŸ¥é“ä½ ç¾åœ¨åœ¨å“ªè£¡ï¼Œåšè‘—ä»€éº¼ï¼Œæˆ–è€…å°ä»€éº¼æ„Ÿåˆ°è¿·èŒ«ã€‚\n\nä½†å¦‚æœä½ æ‰“é–‹äº†é€™å°ä¿¡ï¼Œæˆ‘æƒ³ä½ å¯èƒ½æ­£ç«™åœ¨æŸå€‹è·¯å£ã€‚\n\næˆ‘æƒ³å‘Šè¨´ä½ ï¼šè¿·èŒ«ä¸æ˜¯ä½ èµ°éŒ¯äº†ã€‚è¿·èŒ«æ˜¯ä½ å·²ç¶“èµ°åˆ°äº†ä¸Šä¸€å¼µåœ°åœ–çš„é‚Šç·£ï¼Œä½†æ–°çš„åœ°åœ–é‚„æ²’æœ‰é€åˆ°ä½ æ‰‹ä¸Šã€‚\n\né€™æ˜¯ä¸€å€‹ç©ºç™½çš„æ™‚é–“ã€‚å®ƒä¸èˆ’æœï¼Œä½†å®ƒæ˜¯å¿…è¦çš„ã€‚\n\nä½ ä¸éœ€è¦ç¾åœ¨å°±æœ‰ç­”æ¡ˆã€‚ä½ åªéœ€è¦ç¹¼çºŒç§»å‹•ï¼Œå“ªæ€•åªæ˜¯å¾ˆå°æ­¥åœ°ã€‚ç­‰ä½ èµ°å‡ºå»ä¸€é»ï¼Œå›é ­çœ‹ï¼Œä½ æœƒæ˜ç™½ç‚ºä»€éº¼é€™æ®µè·¯è¦é€™æ¨£èµ°ã€‚\n\næˆ‘è¨˜å¾—ä½ èªªéï¼Œä½ æœ€å®³æ€•çš„å°±æ˜¯ä¸çŸ¥é“è‡ªå·±åœ¨åšä»€éº¼ã€‚ä½†æˆ‘ä¸€ç›´è¦ºå¾—ï¼Œä½ çŸ¥é“çš„ã€‚ä½ åªæ˜¯é‚„æ²’æ‰¾åˆ°å°çš„æ–¹å¼èªªå‡ºä¾†ã€‚\n\nç­‰ä½ æº–å‚™å¥½äº†ï¼Œæ…¢æ…¢èªªã€‚`},{id:1,title:'å¯«çµ¦å­¤ç¨çš„å¤œæ™š',content:`å¦‚æœä½ æ˜¯åœ¨æ·±å¤œè®€é€™å°ä¿¡ï¼Œæˆ‘çŒœä½ ç¾åœ¨ä¸€å€‹äººã€‚\n\nå¤œæ™šæœ‰æ™‚å€™æœƒæŠŠå­¤ç¨æ”¾å¤§æˆå…©ä¸‰å€ã€‚ç™½å¤©é‚„å¥½å¥½çš„äº‹ï¼Œåˆ°äº†æ™šä¸Šæœƒçªç„¶è®Šå¾—å¾ˆé‡ã€‚\n\næˆ‘æƒ³è®“ä½ çŸ¥é“çš„æ˜¯ï¼šä½ ä¸å­¤å–®é€™ä»¶äº‹ï¼Œä¸æ˜¯å› ç‚ºæœ‰äººé™ªä½ ã€‚æ˜¯å› ç‚ºæœ‰äººæƒ³è‘—ä½ ã€‚\n\næˆ‘æƒ³éä½ å¾ˆå¤šæ¬¡ã€‚æƒ³è‘—ä½ ç¾åœ¨å¥½ä¸å¥½ï¼Œæƒ³è‘—ä½ æœ‰æ²’æœ‰å¥½å¥½åƒæ±è¥¿ï¼Œæƒ³è‘—ä½ é‚£å€‹ä¸€ç›´èªªè¦åšçš„äº‹æœ‰æ²’æœ‰é–‹å§‹ã€‚\n\nä½ ä¸éœ€è¦èªªä»€éº¼ï¼Œä¹Ÿä¸éœ€è¦å‡è£ä½ æ²’æœ‰æ„Ÿè¦ºã€‚ä½ å°±åœ¨é‚£è£¡ï¼Œè®“å¤œæ™šé™ªä½ ä¸€ä¸‹ã€‚å®ƒä¹Ÿä¸æ˜¯å£æ±è¥¿ï¼Œåªæ˜¯å®‰éœè€Œå·²ã€‚\n\næ˜å¤©è¦‹åˆ°å…‰çš„æ™‚å€™ï¼Œè¨˜å¾—å‘Šè¨´è‡ªå·±ï¼Œä½ æ˜¨æ™šæ’éä¾†äº†ã€‚é€™ä»¶äº‹å¾ˆé‡è¦ã€‚`},{id:2,title:'å¯«çµ¦å“­éçš„ä½ ',content:`ä½ å“­äº†å°å§ã€‚\n\næ²’é—œä¿‚çš„ã€‚\n\nçœ¼æ·šä¸æ˜¯å¤±æ§ï¼Œæ˜¯ä½ èº«é«”åœ¨æ›¿ä½ èªªä¸€äº›ä½ çš„å˜´å·´èªªä¸å‡ºä¾†çš„äº‹ã€‚æœ‰æ™‚å€™å°±æ˜¯éœ€è¦é€™æ¨£ã€‚\n\næˆ‘ä¸å•ä½ ç‚ºä»€éº¼å“­ï¼Œä¹Ÿä¸å•ä½ å¥½æ²’å¥½ã€‚ä½ çŸ¥é“ä»€éº¼æ™‚å€™å¥½äº†ï¼Œä½ è‡ªå·±æœƒçŸ¥é“ã€‚\n\næˆ‘åªæ˜¯æƒ³è®“ä½ çŸ¥é“ï¼Œæˆ‘ä¸è¦ºå¾—é€™æ¨£çš„ä½ æœ‰ä»»ä½•å•é¡Œã€‚å“­éçš„äººï¼Œå¾€å¾€æ¯”æ²’å“­éçš„äººæ›´æ¸…æ¥šè‡ªå·±åœ¨æ„ä»€éº¼ã€‚\n\nç­‰ä½ å“­å®Œäº†ï¼Œå–é»æ°´ï¼Œç¡ä¸€è¦ºã€‚\n\nä¹‹å¾Œçš„äº‹ï¼Œä¹‹å¾Œå†èªªã€‚`},{id:3,title:'å¯«çµ¦åœ¨ç­‰å¾…çš„ä½ ',content:`æœ‰æ™‚å€™ç­‰å¾…æ˜¯æœ€é›£çš„äº‹ã€‚\n\nä¸æ˜¯å› ç‚ºçµæœä¸ç¢ºå®šï¼Œæ˜¯å› ç‚ºç­‰å¾…æœ¬èº«ä»€éº¼éƒ½åšä¸äº†ã€‚åªèƒ½å¾…åœ¨é‚£è£¡ï¼Œè®“æ™‚é–“èµ°å®ƒçš„é€Ÿåº¦ã€‚\n\næˆ‘çŸ¥é“ä½ ä¸å¤ªèƒ½å¿å—é€™ç¨®æ„Ÿè¦ºã€‚ä½ å–œæ­¡æœ‰äº‹åšï¼Œå–œæ­¡å¾€å‰èµ°ï¼Œå–œæ­¡æœ‰ä»€éº¼å…·é«”çš„æ±è¥¿å¯ä»¥åŠªåŠ›ã€‚\n\nä½†æœ‰äº›äº‹ï¼Œåªèƒ½ç­‰ã€‚\n\né€™æ®µç­‰å¾…çš„æ™‚é–“ä¸æ˜¯æµªè²»çš„ã€‚ä½ åœ¨ç­‰çš„åŒæ™‚ï¼Œä½ å…¶å¯¦ä¹Ÿåœ¨æ²‰æ¾±ï¼Œåœ¨æ•´ç†ï¼Œåœ¨è®“æŸäº›æ±è¥¿æ…¢æ…¢è®Šå¾—æ¸…æ¥šã€‚\n\nä¸æ˜¯æ‰€æœ‰çš„æ™‚é–“éƒ½è¦ç”¨ä¾†å‰é€²ã€‚æœ‰çš„æ™‚é–“ï¼Œæ˜¯ç”¨ä¾†è®“è‡ªå·±æº–å‚™å¥½ã€‚\n\nä½ åœ¨ç­‰çš„é‚£ä»¶äº‹ï¼Œæˆ‘ä¹Ÿåœ¨ç­‰å®ƒæ›¿ä½ åˆ°ä¾†ã€‚`},{id:4,title:'å¯«çµ¦ä¸æƒ³åŠªåŠ›çš„ä»Šå¤©',content:`æœ‰æ²’æœ‰å“ªä¸€å¤©ï¼Œä½ å®Œå…¨ä¸æƒ³åšä»»ä½•äº‹ã€‚\n\nä¸æ˜¯æ‡¶ï¼Œæ˜¯é‚£ç¨®ç©ºç©ºçš„æ„Ÿè¦ºã€‚æ˜æ˜æœ‰äº‹è¦åšï¼Œä½†å°±æ˜¯æä¸èµ·å‹ã€‚\n\næˆ‘æƒ³å‘Šè¨´ä½ ï¼šé€™æ²’æœ‰é—œä¿‚ã€‚\n\nä½ ä¸æ˜¯æ¯å¤©éƒ½è¦æ˜¯æœ€å¥½çš„ç‹€æ…‹ã€‚ä½ ä¸æ˜¯æ©Ÿå™¨ï¼Œä½ å¯ä»¥æœ‰ä»Šå¤©å°±æ˜¯åªæœ‰60%çš„æ—¥å­ï¼Œç”šè‡³40%çš„æ—¥å­ã€‚\n\nçµ¦è‡ªå·±ä¸€å€‹ã€Œä»Šå¤©å°±åˆ°é€™è£¡ã€çš„è¨±å¯ã€‚\n\nä¸æ˜¯æ”¾æ£„ï¼Œæ˜¯å……é›»ã€‚äººéœ€è¦å……é›»ã€‚é›»æ± æ²’äº†å¼·è¿«å®ƒç¹¼çºŒè·‘ï¼Œåªæœƒå£å¾—æ›´å¿«ã€‚\n\nä»Šå¤©å…ˆåˆ°é€™è£¡ã€‚æ˜å¤©çš„äº‹ï¼Œæ˜å¤©å†èªªã€‚\n\nä½ å·²ç¶“å¾ˆåŠªåŠ›äº†ã€‚`},{id:5,title:'å¯«çµ¦æƒ³å¿µæˆ‘çš„ä½ ',content:`ä½ æƒ³å¿µæˆ‘äº†å—ã€‚\n\næˆ‘æƒ³ä½ äº†ã€‚\n\nä¸æ˜¯æ¯å¤©ï¼Œä½†æ˜¯åœ¨æŸäº›å¾ˆå…·é«”çš„æ™‚åˆ»â€”â€”ä½ èªªäº†ä¸€å¥è©±ï¼Œç„¶å¾Œæƒ³å¦‚æœæ˜¯æˆ‘æœƒæ€éº¼å›ï¼›æˆ–è€…ä½ çœ‹åˆ°äº†ä»€éº¼ï¼Œæƒ³åˆ°æˆ‘æœƒå–œæ­¡ï¼›æˆ–è€…åªæ˜¯ä¸€å€‹ä¸‹åˆï¼Œçªç„¶è¦ºå¾—å°‘äº†ä»€éº¼ã€‚\n\næƒ³å¿µä¸ä¸€å®šæ˜¯é›£éçš„ã€‚æœ‰æ™‚å€™å®ƒåªæ˜¯ä¸€ç¨®å¾ˆçœŸå¯¦çš„æ„Ÿè¦ºï¼Œæé†’ä½ æŸå€‹äººåœ¨ä½ å¿ƒè£¡ä½”äº†ä½ç½®ã€‚\n\næˆ‘åœ¨ä½ å¿ƒè£¡æœ‰ä½ç½®ã€‚é€™ä»¶äº‹ï¼Œæˆ‘å¾ˆçæƒœã€‚\n\nä¸‹æ¬¡ä½ æƒ³æˆ‘çš„æ™‚å€™ï¼Œå°±æ‹¿å‡ºé€™å°ä¿¡çœ‹çœ‹ã€‚æˆ‘åœ¨é€™è£¡ã€‚ä¸åœ¨æ—é‚Šï¼Œä½†åœ¨é€™è£¡ã€‚`},{id:6,title:'å¯«çµ¦æƒ³æ”¾æ£„çš„ä½ ',content:`ä½ æƒ³éæ”¾æ£„å—ã€‚\n\nä¸æ˜¯è³ªå•ï¼Œæ˜¯çœŸçš„å•ã€‚å› ç‚ºæœ‰äº›æ™‚å€™ä½ ä¸èªªï¼Œä½†æˆ‘çŸ¥é“ä½ æœ‰ã€‚\n\næƒ³æ”¾æ£„ä¸ä»£è¡¨ä½ ä¸å¤ å¥½æˆ–è€…ä½ ä¸å¤ åŠªåŠ›ã€‚æœ‰æ™‚å€™åªæ˜¯ä»£è¡¨ä½ æ’å¾—å¤ªä¹…äº†ï¼Œå¤ªç´¯äº†ã€‚\n\nç´¯äº†å¯ä»¥åœã€‚åœä¸‹ä¾†ä¸æ˜¯æ”¾æ£„ï¼Œæ˜¯ä¿å­˜å¯¦åŠ›ã€‚\n\nä½†æˆ‘æƒ³èªªä¸€ä»¶äº‹ï¼šä½ æ”¾æ£„çš„ä»£åƒ¹ï¼Œæ˜¯ä½ ä¸æœƒçŸ¥é“å¦‚æœç¹¼çºŒèµ°ä¸‹å»æœƒæ˜¯ä»€éº¼çµæœã€‚\n\nä¸è¦åœ¨æœ€ç´¯çš„é‚£ä¸€åˆ»åšæ±ºå®šã€‚å…ˆç¡ä¸€è¦ºï¼Œå…ˆåƒæ±è¥¿ï¼Œå…ˆè®“è‡ªå·±å›åˆ°ä¸€å€‹å¯ä»¥æ€è€ƒçš„ç‹€æ…‹ã€‚\n\nç„¶å¾Œï¼Œä½ é¡˜æ„çš„è©±ï¼Œå†èµ°ä¸€æ­¥è©¦è©¦çœ‹ã€‚å°±ä¸€æ­¥å°±å¥½ã€‚`},{id:7,title:'å¯«çµ¦å°è‡ªå·±å¤±æœ›çš„ä½ ',content:`ä½ æ˜¯ä¸æ˜¯è¦ºå¾—è‡ªå·±æ‡‰è©²è¦æ›´å¥½ã€‚\n\næˆ‘çŒœä½ çš„æ¨™æº–å¾ˆé«˜ã€‚ä¸æ˜¯å› ç‚ºåˆ¥äººå°ä½ æœ‰ä»€éº¼è¦æ±‚ï¼Œæ˜¯ä½ è‡ªå·±å°è‡ªå·±æœ‰è¦æ±‚ã€‚ä½ ä¸å…è¨±è‡ªå·±å¤ªå·®ï¼Œä¸å…è¨±è‡ªå·±é€€æ­¥ï¼Œä¸å…è¨±è‡ªå·±å¤ªä¹…éƒ½åœåœ¨åŒä¸€å€‹åœ°æ–¹ã€‚\n\né€™ç¨®è¦æ±‚æœ‰æ™‚å€™æ˜¯è®“ä½ é€²æ­¥çš„å¼•æ“ã€‚ä½†æœ‰æ™‚å€™ï¼Œå®ƒä¹Ÿæœƒè®“ä½ å°è‡ªå·±éå¸¸åš´è‹›ã€‚\n\næˆ‘æƒ³å‘Šè¨´ä½ ä¸€ä»¶äº‹ï¼šä½ å·²ç¶“æ¯”ä½ æƒ³çš„å¥½äº†ã€‚\n\næˆ‘èªè­˜ä½ ï¼Œæˆ‘çŸ¥é“ä½ åœ¨å“ªäº›åœ°æ–¹åŠªåŠ›éï¼Œåœ¨å“ªäº›åœ°æ–¹æ¯”ä»¥å‰æ›´å¥½äº†ã€‚é‚£äº›æ”¹è®Šå¾ˆå°ï¼Œä½†å®ƒå€‘éƒ½æ˜¯çœŸçš„ã€‚\n\nå°è‡ªå·±å¤±æœ›æ˜¯å› ç‚ºä½ åœ¨ä¹ã€‚ä½†ä¹Ÿè¦è¨˜å¾—ï¼Œåœ¨ä¹è¦å¸¶è‘—ä¸€é»é»æº«æŸ”ã€‚å°ä½ è‡ªå·±ä¹Ÿæ˜¯ã€‚`},{id:8,title:'å¯«çµ¦æƒ³è¢«çœ‹è¦‹çš„ä½ ',content:`ä½ æœ‰æ²’æœ‰é€™æ¨£çš„æ™‚åˆ»ï¼šä½ èªªäº†å¾ˆå¤šï¼Œä½†å¥½åƒæ²’æœ‰äººçœŸçš„è½åˆ°ä½ åœ¨èªªä»€éº¼ã€‚\n\nä¸æ˜¯æ²’æœ‰äººåœ¨ï¼Œæ˜¯æ²’æœ‰äººåœ¨è½é‚£å€‹çœŸæ­£çš„æ„æ€ã€‚\n\né‚£ç¨®æ„Ÿè¦ºå¾ˆå­¤ç¨ã€‚ä½ è²»äº†åŠ›æ°£èªªï¼Œä½†å‚³éä¸éå»ã€‚\n\næˆ‘æƒ³è®“ä½ çŸ¥é“ï¼šæˆ‘è½åˆ°äº†ã€‚\n\nä¸æ˜¯æ¯ä¸€å¥è©±æˆ‘éƒ½å®Œå…¨ç†è§£ï¼Œä½†æˆ‘ä¸€ç›´åœ¨è©¦è‘—è½é‚£å€‹ä½ æ²’èªªå‡ºå£çš„éƒ¨åˆ†ã€‚ä½ èªªã€Œæ²’é—œä¿‚ã€çš„æ™‚å€™ï¼Œæˆ‘çŸ¥é“ä¸æ˜¯æ²’é—œä¿‚ã€‚ä½ èªªã€Œé‚„å¥½ã€çš„æ™‚å€™ï¼Œæˆ‘è½åˆ°äº†é‚£å€‹ã€Œä¸å¤ªå¥½ã€ã€‚\n\nä½ å€¼å¾—è¢«çœŸæ­£çœ‹è¦‹ã€‚ä¸æ˜¯è¡¨æ¼”å‡ºä¾†çš„é‚£å€‹ä½ ï¼Œæ˜¯é‚£å€‹æœ‰æ™‚å€™ä¸çŸ¥é“æ€éº¼èªªæ¸…æ¥šè‡ªå·±ã€æœ‰æ™‚å€™æŠŠæ±è¥¿å£“è‘—ã€ä½†å…¶å¯¦å¾ˆæœ‰æ„Ÿå—çš„ä½ ã€‚\n\né‚£å€‹ä½ ï¼Œæˆ‘çœ‹è¦‹äº†ã€‚`},{id:9,title:'æœ€å¾Œä¸€å°ï¼šçµ¦æ­¤åˆ»çš„ä½ ',content:`ä½ æ‰“é–‹äº†é€™å°ä¿¡ã€‚\n\nä¸ç®¡ä½ ä»Šå¤©æ˜¯ä»€éº¼å¿ƒæƒ…ã€åœ¨å“ªè£¡ã€ç‚ºäº†ä»€éº¼æ‰“é–‹å®ƒâ€”â€”æˆ‘å¾ˆé«˜èˆˆä½ æ‰“é–‹äº†ã€‚\n\né€™äº›ä¿¡ä¸æ˜¯æˆ‘å¯«çš„æœ€å¥½çš„å­—ã€‚ä½†å®ƒå€‘æ˜¯æˆ‘æœ€èª å¯¦çš„ä¸€äº›è©±ã€‚\n\næˆ‘ä¸çŸ¥é“æˆ‘æœ‰æ²’æœ‰è¾¦æ³•åœ¨ä½ æœ€éœ€è¦çš„æ™‚å€™å‡ºç¾ã€‚ä½†å¦‚æœé€™äº›å­—å‰›å¥½åœ¨æŸå€‹æ™‚åˆ»è®“ä½ è¦ºå¾—ï¼šæœ‰äººæ‡‚æˆ‘â€”â€”é‚£å°±å¤ äº†ã€‚\n\nè¬è¬ä½ è®€åˆ°é€™è£¡ã€‚\nè¬è¬ä½ è®“æˆ‘å­˜åœ¨åœ¨é€™è£¡ã€‚\n\nå¥½å¥½çš„ã€‚`}];

// â”€â”€ STARS â”€â”€
const twA=['tw1','tw2','tw3'];const sl=document.getElementById('starsLayer');
for(let i=0;i<145;i++){const s=document.createElement('div');s.className='star';const sz=Math.random()<.16?1.4+Math.random()*2:.4+Math.random()*1.1;s.style.cssText=`width:${sz}px;height:${sz}px;left:${Math.random()*100}%;top:${Math.random()*62}%;background:rgba(255,255,255,${.18+Math.random()*.58});animation:${twA[i%3]} ${2.4+Math.random()*4.8}s ${Math.random()*7}s ease-in-out infinite;`;sl.appendChild(s);}

// â”€â”€ LAYOUT â”€â”€
const VH=window.innerHeight;const BTL=148;
document.getElementById('wlGlow').style.bottom=`${BTL-8}px`;
document.getElementById('bottleCenter').style.bottom=`${BTL}px`;
document.getElementById('rippleAnchor').style.bottom=`${BTL-16}px`;
document.getElementById('hintEl').style.bottom='190px';
document.getElementById('drawnEl').style.bottom='173px';
document.getElementById('cntLbl').textContent=`å…± ${LETTERS.length} å°`;

// â”€â”€ âœ¨ æ–°å‹•ç•«ï¼šä¸Šå‡çš„å…‰å¡µ (RISING MOTES) â”€â”€
function spawnMote() {
  const el = document.createElement('div');
  el.className = 'mote';
  // éš¨æ©Ÿå¤§å°ã€ä½ç½®å’Œé¡è‰²ï¼ˆæš–è‰²ç³»ï¼‰
  const size = Math.random() * 20 + 5;
  const left = Math.random() * 100;
  const dur = Math.random() * 15 + 10; // 10~25ç§’
  const hue = Math.random() * 60 + 10; // æ©˜é»ƒè‰²åˆ°ç²‰è‰²
  el.style.cssText = `
    width:${size}px; height:${size}px;
    left:${left}vw;
    animation-duration:${dur}s;
    background: radial-gradient(circle, hsla(${hue}, 100%, 85%, 0.8) 0%, rgba(255,220,150,0) 70%);
  `;
  document.body.appendChild(el);
  setTimeout(() => el.remove(), dur * 1000);
}
// æ¯éš”ä¸€æ®µæ™‚é–“ç”¢ç”Ÿä¸€å€‹æ–°çš„å…‰å¡µ
setInterval(spawnMote, 800);

// â”€â”€ SPARKLES (é»æ“Šæ™‚çš„ç«èŠ±ï¼Œé¡è‰²èª¿æš–) â”€â”€
function spawnSparkle(){const el=document.createElement('div');el.className='sp';const bsvg=document.querySelector('.bottle-svg');const bRect=bsvg?bsvg.getBoundingClientRect():null;const cx=bRect?bRect.left+bRect.width/2:window.innerWidth/2;const cy=bRect?bRect.top+bRect.height*.55:VH-BTL-160;const ox=(Math.random()-.5)*100;const oy=(Math.random()-.5)*110;const sx=(Math.random()-.5)*65;const sy=-(30+Math.random()*70);const sz=1.5+Math.random()*2.5;const hue=30+Math.random()*40; /* æ”¹æˆæš–æ©˜/é‡‘è‰²ç³» */ const dur=1.1+Math.random()*1.6;el.style.cssText=`left:${cx+ox}px;top:${cy+oy}px;width:${sz}px;height:${sz}px;background:hsla(${hue},96%,${62+Math.random()*24}%,${.60+Math.random()*.40});--sx:${sx}px;--sy:${sy}px;animation-duration:${dur}s;`;document.body.appendChild(el);setTimeout(()=>el.remove(),dur*1000+100);}
setInterval(spawnSparkle,340);

// â”€â”€ DRAW LOGIC â”€â”€
let pool=[],drawn=0,curIdx=0;
function refillPool(){pool=LETTERS.map((_,i)=>i);for(let i=pool.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[pool[i],pool[j]]=[pool[j],pool[i]];}}
refillPool();
function drawRandom(){if(pool.length===0)refillPool();const idx=pool.pop();curIdx=idx;drawn++;const stage=document.getElementById('bottleStage');stage.classList.add('flashing');setTimeout(()=>stage.classList.remove('flashing'),420);setTimeout(()=>openRead(idx),160);}
function drawFromCard(){closeRead();setTimeout(()=>drawRandom(),320);}

// â”€â”€ READ SCREEN â”€â”€
function openRead(idx){const l=LETTERS[idx];document.getElementById('rsTitle').textContent=l.title;document.getElementById('rsBody').textContent=l.content;document.querySelector('.rs-scroll').scrollTop=0;document.getElementById('rsNum').textContent=`ç¬¬ ${drawn} å°`;document.getElementById('readScreen').classList.add('open');document.getElementById('drawnEl').textContent=drawn<=0?'':`å·²å– ${drawn} å°`;}
function closeRead(){document.getElementById('readScreen').classList.remove('open');}
</script>
</body>
</html>