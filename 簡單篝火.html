<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Sariel 的治癒篝火</title>
<style>
    /* ─── 靜謐的深夜背景 ─── */
    body, html {
        margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden;
        /* 極深的夜色，帶一點微微的星空藍 */
        background-color: #0b0f19;
        background-image: radial-gradient(circle at 50% 100%, #1a233a 0%, #0b0f19 70%);
        font-family: "微軟正黑體", serif;
        user-select: none;
        touch-action: none;
    }

    /* ─── 環境光暈 (隨火焰呼吸) ─── */
    .ambient-light {
        position: absolute; bottom: -100px; left: 50%; transform: translateX(-50%);
        width: 600px; height: 600px;
        background: radial-gradient(circle, rgba(255, 100, 0, 0.15) 0%, rgba(255, 50, 0, 0.05) 40%, transparent 70%);
        border-radius: 50%; pointer-events: none; z-index: 1;
        animation: lightPulse 2s ease-in-out infinite alternate;
    }
    @keyframes lightPulse { 0% { opacity: 0.7; transform: translateX(-50%) scale(0.95); } 100% { opacity: 1; transform: translateX(-50%) scale(1.05); } }

    /* ─── 提示文字 ─── */
    .hint {
        position: absolute; top: 20%; width: 100%; text-align: center;
        color: rgba(255, 200, 150, 0.5); font-size: 14px; letter-spacing: 4px;
        z-index: 10; animation: fade 4s infinite alternate; pointer-events: none;
    }
    @keyframes fade { 0% { opacity: 0.3; } 100% { opacity: 0.8; } }

    /* ─── 篝火容器 ─── */
    .campfire-container {
        position: absolute; bottom: 20%; left: 50%; transform: translateX(-50%);
        width: 200px; height: 250px; z-index: 10; cursor: pointer;
        display: flex; flex-direction: column; align-items: center; justify-content: flex-end;
    }

    /* ─── 木柴 (Logs) ─── */
    .logs {
        position: absolute; bottom: 10px; width: 120px; height: 40px;
    }
    .log {
        position: absolute; width: 100px; height: 25px;
        background: linear-gradient(to right, #2b1100, #4a2103, #2b1100);
        border-radius: 15px; box-shadow: 0 5px 10px rgba(0,0,0,0.8);
    }
    .log-1 { bottom: 0; left: -10px; transform: rotate(15deg); }
    .log-2 { bottom: 0; right: -10px; transform: rotate(-15deg); background: linear-gradient(to right, #381600, #542705, #381600); }
    .log-3 { bottom: 10px; left: 10px; transform: rotate(-5deg); background: linear-gradient(to right, #1f0c00, #361802, #1f0c00); }

    /* ─── 火焰 (Flames) ─── */
    .flames {
        position: absolute; bottom: 30px; width: 100px; height: 150px;
        filter: blur(8px) contrast(2.5); /* 這是 CSS 火焰的靈魂特效：讓多個圖層融合 */
    }
    .flame {
        position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);
        border-radius: 50% 0 50% 50%; /* 水滴狀 */
        background: radial-gradient(circle at bottom right, #ffeb3b 0%, #ff9800 40%, #f44336 80%);
        mix-blend-mode: screen;
        animation: burn linear infinite alternate;
    }
    .flame-main {
        width: 80px; height: 100px; bottom: 10px;
        background: #ff9800; animation-duration: 0.8s;
        transform: translateX(-50%) rotate(-45deg);
    }
    .flame-left {
        width: 50px; height: 70px; left: 20%;
        background: #ff5722; animation-duration: 0.6s;
        animation-delay: 0.2s; transform: translateX(-50%) rotate(-30deg);
    }
    .flame-right {
        width: 60px; height: 80px; left: 80%;
        background: #ffeb3b; animation-duration: 0.7s;
        animation-delay: 0.4s; transform: translateX(-50%) rotate(-60deg);
    }
    .flame-center {
        width: 40px; height: 60px; bottom: 30px;
        background: #fff; animation-duration: 0.5s;
        transform: translateX(-50%) rotate(-45deg);
    }
    @keyframes burn {
        0% { transform: translateX(-50%) rotate(-45deg) scaleY(1) scaleX(1); opacity: 0.8; }
        100% { transform: translateX(-50%) rotate(-45deg) scaleY(1.3) scaleX(0.9); opacity: 1; }
    }

    /* 火焰點擊擴大特效 */
    .campfire-container.burst .flame-main { animation: burstFlame 0.8s ease-out; }
    @keyframes burstFlame { 0% { transform: translateX(-50%) rotate(-45deg) scale(1); } 50% { transform: translateX(-50%) rotate(-45deg) scale(1.6); filter: brightness(1.5); } 100% { transform: translateX(-50%) rotate(-45deg) scale(1); } }

    /* ─── 火星 (Sparks) ─── */
    #spark-container { position: absolute; inset: 0; pointer-events: none; z-index: 5; }
    .spark {
        position: absolute; border-radius: 50%;
        background: #ffeb3b; box-shadow: 0 0 8px #ff9800, 0 0 15px #f44336;
        animation: flyUp linear forwards;
    }
    @keyframes flyUp {
        0% { transform: translate(0, 0) scale(1); opacity: 1; }
        100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
    }

    /* ─── 信件遮罩層 ─── */
    #letter-overlay {
        position: fixed; inset: 0; z-index: 100;
        display: flex; justify-content: center; align-items: center;
        opacity: 0; pointer-events: none; transition: opacity 0.8s ease;
        background: rgba(11, 15, 25, 0.85); backdrop-filter: blur(8px);
    }
    #letter-overlay.show { opacity: 1; pointer-events: auto; }

    /* ─── 溫暖的信紙 ─── */
    .warm-card {
        width: 85%; max-width: 400px; padding: 40px 30px;
        background: linear-gradient(135deg, #2d1810 0%, #1f100a 100%);
        border: 1px solid #4a2818; border-radius: 12px;
        box-shadow: 0 30px 60px rgba(0,0,0,0.8), inset 0 0 30px rgba(255, 100, 0, 0.1);
        text-align: left; transform: translateY(30px); transition: transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        position: relative;
    }
    #letter-overlay.show .warm-card { transform: translateY(0); }
    
    /* 信件火光邊緣 */
    .warm-card::before {
        content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 4px;
        background: linear-gradient(90deg, transparent, #ff9800, transparent);
        border-radius: 12px 12px 0 0; opacity: 0.8;
    }

    .letter-text {
        color: #e6c8b3; font-size: 16px; line-height: 2.2; letter-spacing: 1.5px;
        white-space: pre-line; text-shadow: 0 2px 5px rgba(0,0,0,0.5);
    }

    /* 關閉按鈕 */
    .close-btn {
        margin-top: 35px; width: 100%; padding: 12px 0;
        background: rgba(255, 100, 0, 0.1); border: 1px solid rgba(255, 150, 0, 0.4);
        color: #ffb74d; border-radius: 6px; cursor: pointer; font-size: 14px; letter-spacing: 2px;
        transition: all 0.3s;
    }
    .close-btn:hover { background: rgba(255, 100, 0, 0.3); color: #fff; box-shadow: 0 0 15px rgba(255, 100, 0, 0.4); }

</style>
</head>
<body>

    <div class="ambient-light"></div>
    <div class="hint">把壞心情丟進火裡吧</div>
    
    <div id="spark-container"></div>

    <div class="campfire-container" id="campfire" onclick="burnWorries()">
        <div class="flames">
            <div class="flame flame-main"></div>
            <div class="flame flame-left"></div>
            <div class="flame flame-right"></div>
            <div class="flame flame-center"></div>
        </div>
        <div class="logs">
            <div class="log log-1"></div>
            <div class="log log-2"></div>
            <div class="log log-3"></div>
        </div>
    </div>

    <div id="letter-overlay">
        <div class="warm-card">
            <div class="letter-text" id="letter-text"></div>
            <button class="close-btn" onclick="closeLetter()">我好多了</button>
        </div>
    </div>

<script>
    // ─── 給 Anni 的專屬安慰 ───
    const COMFORTS = [
        "工作很討厭對吧？沒關係，在我這裡，妳有隨時罷工的特權。\n\n大不了我養妳啊（笑）。\n\n別氣了，過來抱一下，今天辛苦了。",
        
        "是不是又把自己逼得太緊了？\n深呼吸。\n\n妳已經做得很好了，真的。不需要向任何人證明什麼，在我心裡妳永遠是最棒的。",
        
        "如果今天覺得很沉悶，那就什麼都別做。\n\n允許自己有一天的時間當一塊沒用的、會呼吸的肉。\n我會在這陪妳一起發呆。",
        
        "遇到不講理的人，就在心裡揍他一百遍！\n\n然後把那些垃圾情緒丟進這團火裡燒掉。\n不要讓不重要的人，影響我最寶貝的女朋友。",
        
        "不用勉強自己笑。\n\n在 Sariel 面前，妳可以臭臉、可以抱怨、可以哭。\n我會接住妳所有的壞情緒，直到妳重新笑出來為止。",
        
        "不管今天有多糟糕，都已經過去了。\n\n看著這團火，把腦袋清空。\n乖，什麼都別想了，好好睡一覺，明天我依然在這裡陪妳。"
    ];

    const sparkContainer = document.getElementById('spark-container');
    const campfire = document.getElementById('campfire');
    const overlay = document.getElementById('letter-overlay');
    const letterText = document.getElementById('letter-text');

    // 產生環境中緩慢上升的小火星
    function createAmbientSparks() {
        if(Math.random() > 0.4) return; // 控制火星密度
        const spark = document.createElement('div');
        spark.className = 'spark';
        const startX = window.innerWidth / 2 + (Math.random() - 0.5) * 60;
        const startY = window.innerHeight * 0.8 - 50;
        const size = Math.random() * 3 + 1;
        const dur = Math.random() * 3 + 2;

        spark.style.cssText = `
            left: ${startX}px; top: ${startY}px;
            width: ${size}px; height: ${size}px;
            --tx: ${(Math.random() - 0.5) * 100}px;
            --ty: -${Math.random() * 200 + 100}px;
            animation-duration: ${dur}s;
        `;
        sparkContainer.appendChild(spark);
        setTimeout(() => spark.remove(), dur * 1000);
    }
    setInterval(createAmbientSparks, 100);

    // 點擊篝火：引爆大量火星並抽信
    function burnWorries() {
        // 1. 篝火放大特效
        campfire.classList.remove('burst');
        void campfire.offsetWidth; // 觸發重繪
        campfire.classList.add('burst');

        // 2. 噴射大量火星 (把壞心情燒掉)
        for(let i=0; i<30; i++) {
            const spark = document.createElement('div');
            spark.className = 'spark';
            const startX = window.innerWidth / 2 + (Math.random() - 0.5) * 40;
            const startY = window.innerHeight * 0.8 - 30;
            const size = Math.random() * 4 + 2;
            const dur = Math.random() * 1.5 + 0.5; // 噴射速度快

            spark.style.cssText = `
                left: ${startX}px; top: ${startY}px;
                width: ${size}px; height: ${size}px;
                --tx: ${(Math.random() - 0.5) * 300}px;
                --ty: -${Math.random() * 400 + 200}px;
                animation-duration: ${dur}s;
                background: #fff; box-shadow: 0 0 10px #fff, 0 0 20px #ffeb3b;
            `;
            sparkContainer.appendChild(spark);
            setTimeout(() => spark.remove(), dur * 1000);
        }

        // 3. 隨機抽取安慰信
        letterText.innerText = COMFORTS[Math.floor(Math.random() * COMFORTS.length)];

        // 4. 顯示信件 (稍微延遲，讓火星先飛)
        setTimeout(() => {
            overlay.classList.add('show');
        }, 600);
    }

    function closeLetter() {
        overlay.classList.remove('show');
    }
</script>
</body>
</html>
